% Header du document et paramétrage des packages utilisés
\documentclass[12pt,a4paper]{article}

% On utilise les images
\usepackage{graphicx}
\include{epsf}

% Gestion de la portabilité du document (PDF ou pas)
\usepackage{ifpdf}

\ifpdf
  \usepackage[pdftex,pdfstartview=FitH,pdfhighlight =/O]{hyperref}
  \pdfcompresslevel=9
  \DeclareGraphicsExtensions{.png, .jpg, .pdf}
\else
  \usepackage{hyperref}
  \DeclareGraphicsExtensions{.eps, .ps}
\fi

\usepackage{moreverb}
\usepackage{float}
\usepackage{verbatim}
\usepackage{listings}
\usepackage{eso-pic}
\usepackage{color}
\usepackage{supertabular}
\usepackage{colortbl}
\usepackage{picins}
\usepackage{openbib}
\usepackage{makeidx}
\makeindex

% Configuration des liens
\ifpdf
\hypersetup{
     backref=true,    %permet d'ajouter des liens dans...
     pagebackref=true,%...les bibliographies
     hyperindex=true, %ajoute des liens dans les index.
     colorlinks=true, %colorie les liens
     breaklinks=true, %permet le retour à la ligne dans les liens trop longs
     urlcolor= blue, %couleur des hyperliens
     linkcolor= blue, %couleur des liens internes
     bookmarks=true %créé des signets pour Acrobat
}
\fi

\usepackage[utf8]{inputenc}

% Changement de police par defaut
\renewcommand{\familydefault}{phv}
\selectfont

% On utilise les entêtes et pied de page
\usepackage{fancyhdr}

%Page
\usepackage{a4}
% Le fullpage est déconseillé (il fait de la merde dans l'entete)
%\usepackage{fullpage}
\textwidth=16cm % largeur du texte hors note en marge
\oddsidemargin=0pt % marge gauche rduite  1 pouce
\textheight=22cm % longueur utile de la page
\topmargin=0pt % marge haute réduite  1 pouce
\headsep=20pt % séparation 20 points entre entte et texte
\footskip=20pt % idem sparation pied de page

%---------------------------------------------------------------------------------------------%

% Mes fonctions perso
\include{fonctions}

% Definition entete et pied de page
\lfoot{\bf \FAT}
\rfoot{\bf \thepage}
\cfoot{User manual}
\lhead{\rightmark}
\rhead{\bf \FAT \fatversion}
\renewcommand{\footrulewidth}{0.2pt}
\renewcommand{\headrulewidth}{0.2pt}
\pagestyle{fancy}

% Titre du document
\title{\bf \SimpleImage{images/furicat_color}{0.3} \\ User manual}
%\date{2011}
\author{\fatversion}

\bibliographystyle{plain}
% Corps du document
\begin{document}

  % Page de garde
  \begin{figure}
    \begin{center}
    \includegraphics[scale=2]{images/logo}
    \end{center}
  \end{figure}
  % Titre
  \maketitle{}
  % Pas de style ni de numéro pour la page de garde
  \thispagestyle{empty}
  \setcounter{page}{0}
  \ClearShipoutPicture

  % Fin de la page de garde
  \newpage

  \begin{center}

  % Page Copyright et remerciements
  {\bf \FAT FuriousAdvanceTracker} \medskip

  {\bf code and design: Cyril Brouillard} \medskip

  {\bf for 0.3.0} \medskip

  Thanks to {\bf \textcolor{vert}{Guillaume Dualé}} for his patience and encouragement.\medskip

  Thanks to {\bf \textcolor{vert}{Joan Dolç}} for the ancient document's translation. \medskip

  {\bf 1.0.x and 1.1.x} \medskip

  After four years, \FAT is again on the way ! \\
  A second thank to {\bf \textcolor{vert}{Guillaume Dualé}}. You are really enthousiast and it helps me a lot ! Thanks bro.

  {\bf 1.2.x} \medskip

  Big code refactoring and working on general stability.

  \ColoredAnnotation{This document is a translation from a french document. I'm not english !
                        That's why this document is really perfectible. If you want to help or correct my poor english, feel free to contact me ! Cheers.}

  \end{center}

  % Pas de style ni de numéro pour cette page
  \thispagestyle{empty}
  \setcounter{page}{0}
  \ClearShipoutPicture
  \newpage

  % Table des matières
  \tableofcontents{}
  \newpage

  % C'est parti !!
  \section{Presentation}
  \input{parts/en/presentation.tex}

  \newpage
  \section{Screens}

    In order to let you to compose your track in the best condition, \FAT had been divided into several screens.
    Each screen has its own purpose. For most of them you can access to an help screen by pressing R+L.

    \subsection{The switch popup}

    The switch popup, always accessible by pressing SELECT, allows you to switch accross all the screens at anytime.

    \Image{images/popup_alone}{1.0}{The switch popup (alone)}

    You can imagine this popup as a taskbar : change active screen by moving the cursor on the right or left then release the SELECT button to validate the change.

    \subsubsection{Commandes}
    % Configuration du tableau
    \tablehead{\hline \rowcolor{headertab} {\bf Key(s)} & {\bf Effect} \\ \hline}
    \tabletail{\hline \multicolumn{2}{|l|} {\small ...} \\ \hline}
    \tablelasttail{\hline}
    \begin{supertabular}{|l|l|}
    \hline
        {\bf SELECT} (hold) & Display the popup \\
        \hline
        {\bf SELECT} (on release) & Validate the screen change order \\
        \hline
        {\bf LEFT/RIGHT} & Move the cursor \\
    \hline
    \end{supertabular}

    \subsection{SONG screen}

    This screen is the sequencer. Right here, you'll can organize your track's sequences order.
    When you'll want to play your song, \FAT will read all the sequences line by line.
    When an empty spot had been detected, \FAT will try to start from the first in the list.

    \Image{images/screen_song_complete}{1.0}{The SONG screen is like a big table.}

        \subsubsection{Commandes}

        % Configuration du tableau
        \tablehead{\hline \rowcolor{headertab} {\bf Key(s)} & {\bf Effect} \\ \hline}
        \tabletail{\hline \multicolumn{2}{|l|} {\small ...} \\ \hline}
        \tablelasttail{\hline}
        \begin{supertabular}{|l|p{11cm}|}
        \hline
            {\bf SELECT} & Show the switch popup \\
            \hline
            {\bf START} & Start/stop song playback from the sequencer \\
            \hline
            {\bf R+L} & Show help screen \\
            \hline
            {\bf L+UP} & Move the cursor to top \\
            \hline
            {\bf L+DOWN} & Move the cursor to down \\
            \hline
            {\bf R+UP} & Move the cursor to one page up \\
            \hline
            {\bf R+DOWN} & Move the cursor to one page down \\
            \hline
            {\bf A} & Write last known sequence's number on the spot designated by cursor (default is "00") \\
            \hline
            {\bf A+DIRECTION} & Modify value \\
            \hline
            {\bf L+A} & Find a new available number and set the value on spot \\
            \hline
            {\bf R+A} & Not used \\
            \hline
            {\bf B} & IF NOT EMPTY SPOT | Cut sequence \\
            \hline
            {\bf B} & IF EMPTY SPOT | Paste sequence \\
            \hline
            {\bf L+B} & IF EMPTY SPOT | Paste sequence but changing number \\
            \hline
            {\bf L+B} & IF NOT EMPTY SPOT | Change number of sequence while copying its content \\
        \hline
        \end{supertabular}

    \subsection{L'écran BLOCKS}

    Dans cet écran, vous pouvez éditer le contenu d'une séquence : chaque séquence peut contenir de 0 à 16 blocks. Lorsque \FAT jouera la séquence, elle commencera par lire le premier block pour descendre jusqu'au dernier emplacement vide. Si \FAT rencontre un emplacement vide lors de la lecture alors il remonte au premier emplacement. Si aucun block n'est présent dans la séquence en cours, alors \FAT ne la jouera pas (elle sera sautée).\medskip

    Pour faire simple, considérez cet écran comme une liste de blocks contenue dans une séquence (dont le numéro est affiché à droite de l'écran).

    \Image{images/screen_blocks_complete}{1.0}{L'écran BLOCKS}

        \subsubsection{Commandes}
        % Configuration du tableau
        \tablehead{\hline \rowcolor{headertab} {\bf Touche(s)} & {\bf Effet} \\ \hline}
        \tabletail{\hline \multicolumn{2}{|l|} {\small ...} \\ \hline}
        \tablelasttail{\hline}
        \begin{supertabular}{|l|p{11cm}|}
        \hline
            {\bf SELECT} & Passer en mode popup \\
            \hline
            {\bf START} & Lancer/stopper la lecture des blocks dans la séquence en cours d'édition \\
            \hline
            {\bf R+L} & Afficher l'écran d'aide \\
            \hline
            {\bf L+HAUT} & Déplacer le curseur tout en haut \\
            \hline
            {\bf L+BAS} & Déplacer le curseur tout en bas \\
            \hline
            {\bf A} & Inscrire le dernier numéro de block dans la case désignée \\
            \hline
            {\bf A+DIRECTION} & Modifier le numéro de block dans la case désignée \\
            \hline
            {\bf L+A} & Trouver un nouveau numéro de block disponible et l'inscrire \\
            \hline
            {\bf R+A} & Non utilisé pour le moment \\
            \hline
            {\bf B} & SI CASE NON VIDE | Couper le block \\
            \hline
            {\bf B} & SI CASE VIDE | Coller le block précédemment coupé \\
            \hline
            {\bf L+B} & SI CASE NON VIDE | Changer le numéro de block en copiant le contenu \\
            \hline
            {\bf L+B} & SI CASE VIDE | Coller le block précédemment coupé en changeant son numéro \\
            \hline
            {\bf R+DROITE/GAUCHE} & Changer le numéro de séquence en cours d'édition \\
            \hline
            {\bf R+HAUT/BAS} & Sauter à la séquence précédente/suivante dans le séquenceur \\
        \hline
        \end{supertabular}


    \subsection{L'écran NOTES}

    C'est dans cet écran que vous allez écrire ... vos notes ! (scooooop !). Vous ne pouvez écrire qu'une seule note par ligne. Un BLOCK possède 16 lignes, vous pouvez donc y insérer 16 notes.\medskip

    La notation anglo-saxonne est utilisée pour l'affichage des notes. Ainsi, le "DO" s'écrit "C" chez nos amis anglais.\medskip

    %\begin{figure}
        \begin{center}
        % Configuration du tableau
            \tablehead{\hline \rowcolor{headertab} {\bf FR} & {\bf EN} \\ \hline}
            \tabletail{\hline \multicolumn{2}{|l|} {\small ...} \\ \hline}
            \tablelasttail{\hline}
            \begin{supertabular}{|l|l|}
            \hline
                {\bf DO} & C \\
                \hline
                {\bf RE} & D \\
                \hline
                {\bf MI} & E \\
                \hline
                {\bf FA} & F \\
                \hline
                {\bf SOL} & G \\
                \hline
                {\bf LA} & A \\
                \hline
                {\bf SI} & B \\
            \hline
            \end{supertabular}
        \end{center}
    %\end{figure}


    Chaque note est reliée à un instrument (la colonne INST). Chaque instrument possède un certains nombres de paramètres permettant de faire sonner une note différemment. Nous verrons dans la section suivante comment paramétrer ces instruments.

    \Image{images/screen_notes_complete}{1.0}{L'écran NOTES}

        \subsubsection{Commandes}
        % Configuration du tableau
        \tablehead{\hline \rowcolor{headertab} {\bf Touche(s)} & {\bf Effet} \\ \hline}
        \tabletail{\hline \multicolumn{2}{|l|} {\small ...} \\ \hline}
        \tablelasttail{\hline}
        \begin{tabular}{|l|p{11cm}|}
        \hline
            \rowcolor{headertab} {\bf Touche(s)} & {\bf Effet} \\
            \hline
            {\bf SELECT} & Passer en mode popup \\
            \hline
            {\bf START} & Lancer/stopper la lecture des notes \\
            \hline
            {\bf R+L} & Afficher l'écran d'aide \\
            \hline
            {\bf L+HAUT} & Déplacer le curseur tout en haut \\
            \hline
            {\bf L+BAS} & Déplacer le curseur tout en bas \\
            \hline
            {\bf A} & Inscrire une note (par défaut C3) \\
            \hline
            {\bf A+HAUT/BAS} & COLONNE NOTE | Modifier l'octave de la note désignée par le curseur \\
            \hline
            {\bf A+DROITE/GAUCHE} & COLONNE NOTE | Modifier la tonalitée de la note désignée \\
            \hline
            {\bf A+DIRECTION} & COLONNE INSTRUMENT | Modifier le numéro d'instrument utilisée pour la note désignée \\
            \hline
            {\bf A+DIRECTION} & COLONNE CMD | Modifier les valeurs de commandes \\
            \hline
            {\bf L+A} & COLONNE INSTRUMENT | Trouver un nouveau numéro d'instrument et l'inscrire \\
            \hline
            {\bf R+A} & Non utilisé pour le moment \\
            \hline
            {\bf R+DROITE/GAUCHE} & Modifier le numéro de block en cours d'édition \\
            \hline
            {\bf R+HAUT/BAS} & Sauter au block précédent/suivant dans la séquence en cours d'édition \\
            \hline
            {\bf B} & SI CASE NON VIDE | Couper la note \\
            \hline
            {\bf B} & SI CASE VIDE | Coller la note préalablement coupée \\
        \hline
        \end{tabular}

    \subsection{L'écran INSTRUMENT}

    Cet écran se subdivise en 4: il existe 4 types d'instrument dans \FAT.\medskip

    \begin{itemize}
        \item{le type PULSE}
        \item{le type WAVE}
        \item{le type NOISE}
        \item{le type KIT}
    \end{itemize}\medskip

     Chaque instrument est spécialisé dans la lecture de notes {\bf sur un certain canal}. Rappelez-vous, l'écran SONG est composé de 6 colonnes. Ces 6 colonnes représentent en fait chacun des 6 canaux de la GBA. Ainsi,

     \begin{itemize}
        \item{les instruments PULSE sont spécialistes du canal 1 et 2: le PU1 et PU2}
        \item{les instruments WAVE sont utiles pour le canal 3 uniquement : le canal WAV}
        \item{les instrument NOISE sont, eux, prévus pour le canal 4: le canal NOI}
        \item{enfin, les instruments de type SAMPLE officient sur le canal 5 et 6: le SNA et SNB}
     \end{itemize}\medskip

     Mais \FAT est suffisamment souple pour permettre l'utilisation d'un instrument dans un canal qui ne lui est pas dédié: le comportement peut cependant être surprenant (voire carrément "hallucinant"). A vous de voir ce que vous souhaitez produire comme sonorités.

        \subsubsection{Commandes}

        % Configuration du tableau
        \tablehead{\hline \rowcolor{headertab} {\bf Touche(s)} & {\bf Effet} \\ \hline}
        \tabletail{\hline \multicolumn{2}{|l|} {\small ...} \\ \hline}
        \tablelasttail{\hline}
        \begin{supertabular}{|l|p{11cm}|}
        \hline
            {\bf SELECT} & Passer en mode popup \\
            \hline
            {\bf START} & Lancer/stopper la lecture des notes du block actuellement en cours d'édition \\
            \hline
            {\bf R+L} & Afficher l'écran d'aide \\
            \hline
            {\bf A+DIRECTION} & Modifier la valeur sous le curseur \\
            \hline
            {\bf R+DROITE/GAUCHE} & Changer le numéro d'instrument en cours d'édition \\
            \hline
            {\bf L+DROITE/GAUCHE} & Changer le type d'instrument \\
        \hline
        \end{supertabular}

        \subsubsection{Instrument de type PULSE}

        \Image{images/screen_instrument_pulse}{1.0}{Type PULSE}

            \paragraph{Enveloppe: "Volume"} de 0 à F. Cette valeur permet de régler le volume des notes attachées à cet instrument.
            \begin{itemize}
                \item{0: muet}
                \item{F: à fond !}
            \end{itemize}

            \paragraph{Enveloppe: "Direction"} \SimpleImage{images/envelope_direction_down}{1.0} ou \SimpleImage{images/envelope_direction_up}{1.0}.
            Indique si le son monte ou descend.

            \paragraph{Enveloppe : "Steptime"} de 0 à 7. Agit sur la longueur du pas de l'onde (en gros).
            \begin{itemize}
                \item{0: paramètre non pris en compte}
                \item{1: assez court}
                \item{7: très court}
            \end{itemize}

            \paragraph{Enveloppe : "Wave"} \SimpleImage{images/envelope_waveduty_0}{1.0} ou \SimpleImage{images/envelope_waveduty_1}{1.0} ou \SimpleImage{images/envelope_waveduty_2}{1.0} ou \SimpleImage{images/envelope_waveduty_3}{1.0}. Modifie la forme de l'onde jouée par la GameboyAdvance.

            \paragraph{Paramètre : "Timed"} 0 ou 1.
            \begin{itemize}
                \item{0: le son n'est pas temporisé}
                \item{1: le son est temporisé}
            \end{itemize}

            \paragraph{Paramètre : "Soundlength"} de 0 à 3F. Ce paramètre n'est accessible que si "Timed" à été positionné sur 1.
            \begin{itemize}
                \item{0: le son est "infini"}
                \item{3f: le son est très (très... voire trop) court}
            \end{itemize}

            \paragraph{Paramètre : "Output"} Choisissez le mode de sortie du son.
            \begin{itemize}
                \item{L: le son sort à gauche (LEFT)}
                \item{R: le son sort à droite (RIGHT)}
                \item{RL: le son sort à droite et à gauche (LEFT/RIGHT)}
                \item{VIDE: le son ne sort plus (muet)}
            \end{itemize}

            \paragraph{Paramètre : "Sweep"} de 0 à 7F. Ajoute un effet particulier sur la note (le mieux est encore de tester).

            \paragraph{Simulator} Changez la note inscrite dans cet espace: celle-ci sera jouée avec les paramètres de l'instrument que vous êtes en train d'éditer.

        \subsubsection{Instrument de type WAVE}

        \Image{images/screen_instrument_wave}{1.0}{Type WAVE}

        \paragraph{Enveloppe : Volume} de 0 à 4. Cette valeur permet de régler le volume des notes attachées à cet instrument.

        \paragraph{Paramètre : "Timed"} 0 ou 1.
        \begin{itemize}
                \item{0: le son n'est pas temporisé}
                \item{1: le son est temporisé}
            \end{itemize}

        \paragraph{Paramètre : "Length"} de 0 à FF. Ce paramètre n'est accessible que si "Timed" a été positionné sur 1.
        \begin{itemize}
                \item{00: le son est "infini"}
                \item{eb: le son commence à être court}
                \item{ff: le son est très (très très) court}
            \end{itemize}

        \paragraph{Paramètre : "Voice"} de 0 à 17. \FAT inclut 23 types d'instruments WAV (en héxadécimal, 17 = 23). Pour le moment, ces instruments ne sont pas customisables. Ils le seront dans les prochaines versions.

        \paragraph{Paramètre : "Bank"} 0 ou 1. Le canal WAV de la GBA est capable de charger 2 banks dans sa mémoire. Vous pouvez décider quelle bank sera jouée. Sachant que la bank est directement chargée depuis le paramètre "Voice" juste au dessus (chaque "Voice" possède 2 banks).

        \paragraph{Paramètre : "Bankmode"} "SIN" ou "DUA". Le canal WAV est capable de faire une synthèse des 2 banks chargées en mémoire (le mode DUA = Dual) ou bien de n'en jouer qu'une seule (le mode SIN = Single). Notez que si vous réglez ce paramètre avec SIN, \FAT jouera la bank sélectionnée avec le paramètre "Bank".

        \paragraph{Paramètre : "Output"} Choisissez le mode de sortie du son.
            \begin{itemize}
                \item{L: le son sort à gauche (LEFT)}
                \item{R: le son sort à droite (RIGHT)}
                \item{RL: le son sort à droite et à gauche (LEFT/RIGHT)}
                \item{VIDE: le son ne sort plus (muet)}
            \end{itemize}

        \paragraph{Simulator} Changez la note inscrite dans cet espace: celle-ci sera jouée avec les paramètres de l'instrument que vous êtes en train d'éditer.

        \subsubsection{Instrument de type NOISE}

        \Image{images/screen_instrument_noise}{1.0}{Type NOISE}

        \paragraph{Enveloppe : "Volume"} de 0 à F. Cette valeur permet de régler le volume des notes attachées à cet instrument.
            \begin{itemize}
                \item{0: muet}
                \item{F: à fond !}
            \end{itemize}

        \paragraph{Enveloppe : "Direction"} \SimpleImage{images/envelope_direction_down}{1.0} ou \SimpleImage{images/envelope_direction_up}{1.0}.
            Indique si le son monte ou descend.

        \paragraph{Enveloppe : "Steptime"} de 0 à 7. Agit sur la longueur du pas de l'onde (en gros).

        \paragraph{Enveloppe : "Polystep"} 0 ou 1. Modifie la facon dont le générateur de bruit fonctionne.
        \begin{itemize}
            \item{0: bruit simple}
            \item{1: bruit qui grince}
        \end{itemize}
        Testez !

        \paragraph{Paramètre : "Timed"} 0 ou 1.
        \begin{itemize}
                \item{0: le son n'est pas temporisé}
                \item{1: le son est temporisé}
            \end{itemize}

        \paragraph{Paramètre : "Length"} de 0 à 3F. Ce paramètre n'est accessible que si "Timed" à été positionné sur 1.
            \begin{itemize}
                \item{0: le son est "infini"}
                \item{3f: le son est très (très... voire trop) court}
            \end{itemize}

        \paragraph{Paramètre : "Output"} Choisissez le mode de sortie du son.
            \begin{itemize}
                \item{L: le son sort à gauche (LEFT)}
                \item{R: le son sort à droite (RIGHT)}
                \item{RL: le son sort à droite et à gauche (LEFT/RIGHT)}
                \item{VIDE: le son ne sort plus (muet)}
            \end{itemize}

        \paragraph{Simulator} Changez la note inscrite dans cet espace: celle-ci sera jouée avec les paramètres de l'instrument que vous êtes en train d'éditer.

        \subsubsection{Instrument de type SAMPLE}

        \Image{images/screen_instrument_sample}{1.0}{Type SAMPLE/KIT}

        \paragraph{Name} Le nom de la collection de sample dont l'instrument se sert

        \paragraph{Volume} Volume affecté au sample : moitié ou 100\%.

        \paragraph{Speed} Vitesse de lecture du sample

        \paragraph{Loop} Le sample est t-il joué en boucle ? Si "YES", alors la lecture du sample est répétée.

        \paragraph{Timed} Définit si le sample sera coupé ou non.

        \paragraph{Length} Si "Timed" est à 1, cette valeur définit la coupure en pourcentage.

        \paragraph{Offset} Offset de départ pour la lecture du sample. En pourcentage.

        \paragraph{Output} Choisissez le mode de sortie du son.
        \begin{itemize}
            \item{L: le son sort à gauche (LEFT)}
            \item{R: le son sort à droite (RIGHT)}
            \item{RL: le son sort à droite et à gauche (LEFT/RIGHT)}
            \item{VIDE: le son ne sort plus (muet)}
        \end{itemize}

    \subsection{L'écran PROJECT}

    L'écran PROJECT fait office de gestionnaire de propriétés pour votre chanson.

    \Image{images/screen_project}{1.0}{L'écran PROJECT}

        \subsubsection{Paramètres}

        \paragraph{Tempo} Le tempo du projet. Depuis la version 1.0.0, il est correctement calculé et donc utilisable !

        \paragraph{Transpose} Réglez la transposition de tout le projet.

        \paragraph{"Keyrepeat" (temps de répétition)} Ce paramètre permet de régler le temps d'attente entre chaque appui d'une touche. Plus cette valeur est grande, plus l'interface est lente.

        \paragraph{Preview} Réglez ce paramètre à YES pour demander à \FAT de jouer la note dès qu'elle est écrite.

        \paragraph{GreedPlay} Si activé, le GreedPlay force \FAT à toujours chercher à jouer la première séquence disponible dans un ensemble et ce peu importe la ligne sur laquelle vous vous trouvez. Ex : posez plusieurs séquences (avec des notes à lire) à la suite, de la ligne 0 à 5, puis positionnez vous sur la ligne 3. Pressez START. Si le greedPlay est activé, la lecture ne commencera pas depuis la ligne 3 mais depuis la 0.

        \paragraph{"New Prj"} Crée un nouveau projet. Attention, les données non enregistrées seront impitoyablement effacées, écrasées, broyées, massacrées.

        \paragraph{"Save PRJ" (sauvegarder)}  Affiche l'écran de sauvegarde (cf \ref{filesystem}). Cette version de \FAT reste expérimentale en terme de gestion de la sauvegarde.

        \paragraph{"Load PRJ" (charger)} Affiche l'écran de chargement (cf \ref{filesystem}). Cette version de \FAT reste expérimentale en terme de gestion de la sauvegarde.

        \subsubsection{Commandes}
        % Configuration du tableau
        \tablehead{\hline \rowcolor{headertab} {\bf Touche(s)} & {\bf Effet} \\ \hline}
        \tabletail{\hline \multicolumn{2}{|l|} {\small ...} \\ \hline}
        \tablelasttail{\hline}
        \begin{supertabular}{|l|p{11cm}|}
        \hline
            {\bf SELECT} & Passer en mode popup \\
            \hline
            {\bf R+L} & Afficher l'écran d'aide \\
            \hline
            {\bf A+DIRECTION} & Modifier la valeur sous le curseur \\
            \hline
            {\bf START} & Lancer/stopper la lecture depuis le séquenceur \\
        \hline
        \end{supertabular}

    \subsection{L'écran FILESYSTEM}\label{filesystem}

    L'écran FILESYSTEM permet de sauvegarder et de charger les tracks sauvegardées sur la cartouche. Notez que cet écran dispose de deux modes : SAVE ou LOAD. Les deux modes sont visuellement très proches: les actions possibles sont néanmoins très différentes.

        \subsubsection{Mode SAVE}
        \Image{images/screen_filesystem_save}{1.0}{L'écran FILESYSTEM en mode SAVE}

        En mode SAVE, il est possible de sauvegarder votre projet en cours d'édition. Séléctionnez le slot sur lequel vous souhaitez sauvegarder et appuyer sur A: un clavier apparait. Saisissez un nom trop cool pour votre track. Appuyez sur R pour confi{\bf R}mer, L pour annu{\bf L}er.

        \Image{images/keyboard_save}{1.0}{Clavier de saisie}

	Une ultime boite de dialogue demande confirmation avant d'effectuer la sauvegarde: appuyez sur R pour confi{\bf R}mer, L pour annu{\bf L}er.

	\Image{images/confirmation_save}{1.0}{Confirmation}

        \ColoredAnnotation{\bf \textcolor{red}{Utilisateur de SuperCardSD ! N'oubliez pas "valider" votre sauvegarde ! Une fois la procédure gérée par \FAT complétée, appuyez sur R+L+A+START. Cela aura pour effet d'écrire le fichier .sav sur votre carte SD. Si vous n'effectuez pas cette manipulation, votre sauvegarde ne sera pas effective et vous risquez de perdre votre travail.} }

        \subsubsection{Commandes}
        % Configuration du tableau
        \tablehead{\hline \rowcolor{headertab} {\bf Touche(s)} & {\bf Effet} \\ \hline}
        \tabletail{\hline \multicolumn{2}{|l|} {\small ...} \\ \hline}
        \tablelasttail{\hline}
        \begin{supertabular}{|l|p{11cm}|}
        \hline
            {\bf SELECT} & Passer en mode popup \\
            \hline
            {\bf R+L} & Afficher l'écran d'aide \\
            \hline
            {\bf A} & Sauvegarder dans le slot actuellement sélectionné \\
        \hline
        \end{supertabular}

        \subsubsection{Mode LOAD}
        \Image{images/screen_filesystem_load}{1.0}{L'écran FILESYSTEM en mode LOAD}

        Le mode LOAD fonctionne sensiblement de la même manière que le mode SAVE: hormis le fait qu'il permette de charger un projet. Tout comme pour le mode SAVE, une confirmation est nécessaire avant de charger les données.

        \Image{images/confirmation_load}{1.0}{Confirmation}

        \subsubsection{Commandes}
        % Configuration du tableau
        \tablehead{\hline \rowcolor{headertab} {\bf Touche(s)} & {\bf Effet} \\ \hline}
        \tabletail{\hline \multicolumn{2}{|l|} {\small ...} \\ \hline}
        \tablelasttail{\hline}
        \begin{supertabular}{|l|p{11cm}|}
        \hline
            {\bf SELECT} & Passer en mode popup \\
            \hline
            {\bf R+L} & Afficher l'écran d'aide \\
            \hline
            {\bf A} & Charger le slot actuellement sélectionné \\
        \hline
        \end{supertabular}

    \ColoredAnnotation{Vos morceaux peuvent être enregistrés individuellement sur votre ordinateur ! Pour cela, utilisez le site web dédié : \url{www.furiousadvancetracker.com}}


    \subsection{L'écran EFFECTS}

    \ColoredAnnotation{Cet écran n'est pas encore programmé. Pour ceux qui connaissent LSDJ, il s'agira de l'équivalent des TABLES}

    \subsection{L'écran LIVE}

    Ici, vous allez pouvoir jouer votre chanson comme vous le voulez. C'est ce mode qui est à priviligier si vous voulez mouiller le maillot sur scène. Si vous préférez simplement appuyer sur START dans l'écran SONG et danser avec le public, libre à vous ! Le mode LIVE est là pour vous permettre de modifier la mécanique de vos morceaux.

    \Image{images/screen_live}{1.0}{L'écran LIVE se présente comme l'écran SONG}

    Le séquenceur est à nouveau affiché mais cette fois il n'est pas question d'éditer les séquences sur le tableau.
    Par contre vous allez pouvoir démarrer chacun des channels dans l'ordre qui vous chante. Une fois un channel démarré, il est possible d'effectuer plusieurs actions :
    \begin{itemize}
        \item{modifier le volume du channel}
        \item{changer la transposition sur le channel}
        \item{stopper sa lecture}
    \end{itemize}
    \medskip
    Notez que l'écran LIVE propose deux modes : le mode MANUAL (MAN) et le mode AUTO (AUT).
    En mode MANUAL, FAT n'avance PAS dans le séquenceur. La même séquence sur le channel est rejouée à l'infini: c'est à vous de faire progresser le morceau.
    A l'inverse, en mode AUTO, FAT se comporte comme dans l'écran SONG : tous les channels en cours de lecture progressent normalement.
    Attention, en mode AUTO, si aucun channel ne joue et que vous appuyez sur START, alors TOUS les channels se lancent et s'arrêtent en même temps.
    \newpage
    \subsubsection{Commandes}
    \begin{supertabular}{|l|p{10cm}|}
        \hline
        {\bf SELECT} & Passer en mode popup \\
        \hline
        {\bf R+L} & Afficher l'écran d'aide \\
        \hline
        {\bf START} & MODE AUTO - SON STOPPÉ - Lance la lecture de tous les channels \\
        \hline
        {\bf START} & MODE AUTO - SON DEMARRÉ - Stoppe la lecture de tous les channels \\
        \hline
        {\bf START} & MODE MANUAL - Lance/arrête la lecture du channel sous le curseur \\
        \hline
        {\bf R+BAS} & Passer dans la partie configuration de l'écran (modification du volume, tsp, tempo et mode) \\
        \hline
        {\bf R+HAUT} & Passer dans la partie séquenceur de l'écran \\
        \hline
        {\bf A+DIRECTION} & DANS LA PARTIE CONFIGURATION - Modifie la valeur du paramètre sous le curseur \\
        \hline
    \end{supertabular}

    \subsubsection{Application du volume}

    Lorsque vous changez le volume sur le channel, \FAT calcul un nouveau volume à appliquer sur chaque note. \medskip

    \begin{itemize}
        \item{si la valeur est "df" dans l'écran LIVE, alors le volume de l'instrument ou celui d'une éventuelle commande est appliqué. "df" = "defined"}
        \item{si la valeur est autre que "df", alors le volume est une moyenne calculée entre la valeur écrite dans l'instrument (ou dans une commande) et celle demandée dans le LIVE}
    \end{itemize}
    \medskip

    Un volume de 00 n'éteint donc pas forcément le channel ! Il n'y a pour le moment pas de mode MUTE.

    \subsubsection{Application du transpose}

    Comme pour le volume, \FAT calcul la valeur de transpose à appliquer en fonction d'autres paramètres. La valeur de transpose à prendre en considération se calcule comme suit :

    \ColoredAnnotation{transpose du projet + transpose sur le block + transpose sur le live = transpose}

    \subsection{L'écran COMPOSER}

    Imaginez cet écran comme un mini-piano ou un sampler: le COMPOSER va transformer votre Gameboy Advance en machine a improviser des sons !

    \Image{images/screen_composer}{1.0}{L'écran COMPOSER}

    Le principe est simple. L'écran vous présente 8 notes. Chacune de ses notes est affectée à un bouton (seuls les boutons SELECT et START ne sont pas utilisables). Si vous regardez en bas de l'écran, le mot "UNLOCKED" est marqué: il signifie que vous êtes en mode édition et que vous pouvez écrire des notes comme vous le feriez dans un BLOCK (avec A). \medskip

    Une fois que vous avez écrit toutes vos notes (qui peuvent chacune avoir un instrument différent), appuyez sur START. Le mode passe à "LOCKED".\medskip

    Appuyez sur une touche: la note assignée est jouée en temps réel. Changez de touche pour jouer une autre note. Simple n'est ce pas ?\medskip

    Notez aussi que ces données seront enregistrées dans chacune de vos chansons. Vous pourrez préparer votre set de note à la maison et improviser en live sans forcer !\medskip

    Essayez ! composez quelques séquences puis essayez de jouer avec le COMPOSER en même temps !\medskip

    \subsubsection{Paramétrage}

    Le composer peut également être paramétré:

    \Image{images/parameters_composer}{1.0}{Les paramètres de l'écran COMPOSER}

        \paragraph{Transpose} de 0 à FF. Ajoute une valeur de transpose. Cette valeur s'ajoutera à celle configurée pour le projet dans sa globalité. Notez que toutes les notes du composer seront transposées avec cette valeur.

        \paragraph{Key repeat} de 0 à FF. Règle le temps d'attente entre chaque lecture d'une note du composer. Plus cette valeur est élevée, plus le temps d'attente entre l'appui de deux touches sera grand. Laissez cette valeur à zéro pour désactiver le temps d'attente.

        \subsubsection{Commandes}

        % Configuration du tableau
        \tablehead{\hline \rowcolor{headertab} {\bf Touche(s)} & {\bf Effet} \\ \hline}
        \tabletail{\hline \multicolumn{2}{|l|} {\small ...} \\ \hline}
        \tablelasttail{\hline}
        \begin{supertabular}{|l|p{11cm}|}
        \hline
            {\bf SELECT} & Passer en mode popup \\
            \hline
            {\bf START} & Changer le mode (UNLOCKED/LOCKED) \\
            \hline
            {\bf R+L} & Afficher l'écran d'aide \\
            \hline
            {\bf TOUCHES} & LOCKED | Jouer la note correspondante \\
            \hline
            {\bf A+DIRECTION} & UNLOCKED | Changer la valeur de la note/instrument \\
        \hline
        \end{supertabular}

  \section{Effets et commandes}

  \ColoredAnnotation{Désolé ! Pas beaucoup d'effets pour le moment: il va falloir s'en contenter pour l'heure. Plusieurs commandes sont aux programme et débarqueront dans les versions suivantes. Patience !}

  \subsection{H (HOP!)}

    Cette commande permet de sauter directement au block suivant. Elle peut permettre de créer des décalages de temps entre les blocks. La valeur que vous paramétrez correspond au numéro de ligne vers lequel sauter.

  \subsection{KL (KilL)}

  Cette commande permet de stopper (kill = tuer) le son.
  \ColoredAnnotation{Pas de valeur possible pour le moment pour ce paramètre.}

  \subsection{OU (OUtput)}

  Dirige le son vers la droite (R), gauche (L), les deux (LR) ou aucun des deux ('  ')

  \subsection{SW (SWeep)}

  Cette commande n'est effective que sur le channel 1 (PU1) : elle permet de modifier la valeur du sweep. Ce sweep écrase celui configuré dans l'instrument.

  \subsection{VO (VOlume)}

  Cette commande permet de modifier le volume du son. \#captainobvious. Notez que selon le channel, la valeur que vous passez est prise en compte différemment.

  \section{Manipulation de la ROM pour l'ajout de vos collections de samples}

  A partir de cette version, il est possible d'ajouter vos propres samples à \FAT. Cette manipulation est possible sur le site web (et beaucoup plus simple, le programme sur le site se charge de tout) mais possibité vous est offerte de le faire vous même sur votre poste si le coeur vous en dit. Et que vous n'avez rien de mieux à faire.
  Voyons la marche à suivre.\medskip

    \begin{itemize}
      \item{réunissez vos samples dans un dossier quelconque}
      \item{créez un fichier 0infos et saisissez le nom de votre collection : "my-first" par exemple (8 caractères !) }
      \item{transformez vos fichiers samples dans le bon format}
      \item{créez le fichier GBFS qui sera intégré à la ROM. Répétez l'opération pour chaque kit.}
      \item{dans un autre dossier, créez le fichier 00nbkit qui compte le nombre de kits dans la ROM finale (le nombre de gbfs donc)}
      \item{intégrez les fichiers GBFS dans la ROM "défault"}
    \end{itemize}\medskip

  Pas d'inquiétudes ! Je vais tout expliquer ! Commencez par télécharger la ROM "défault" sur le site dédié.

  \paragraph{Format} La première chose à savoir est le format audio cible : {\bf pcm\_s8, 16000Hz, mono}. Ce format est très important ! Si vous ne le respectez pas, vos samples ne sonneront pas correctement. Au mieux vous aurez du bruit, au pire vous planterez sytématiquement votre GBA.

  \paragraph{Fichier de description} Une collection de samples est décrite par un fichier toujours nommé {\bf 0infos}. Le contenu de ce fichier texte est très simple : les 8 premières lettres sur la première ligne sont le nom de votre collection. Le reste est ignoré. Assurez vous de respecter ces 8 lettres (quitte à mettre des '-').

  \paragraph{Convertir les fichiers audio} Libre à vous d'utiliser l'outil que vous souhaitez. Pour ma part, j'utilise "ffmpeg" qui a le mérite de se lancer en ligne de commande et est donc scriptable. Voici le script que j'utilise pour transformer une collection complète de MP3 dans le bon format :
  \Annotation{find . -name "*.mp3" -exec ffmpeg -i {} -ac 1 -ar 16000 -f s8 -acodec pcm\_s8 \{\}.snd \textbackslash;}
  Audacity ou tout autre logiciel de traitement audio est également approprié. L'important est que le format soit respecté. Par convenance, nommez vos samples formatés avec l'extension ".snd".

  \paragraph{Le fichier GBFS} Ce fichier est le conteneur qui va embarquer le fichier description suivi de tous vos fichier ".snd". Pour le créer, il faut utiliser l'utilitaire "gbfs.exe". Vous pouvez télécharger ce fichier sur le Github de \FAT (\href{https://github.com/cbrouillard/furiousadvancetracker/blob/master/gbfs.exe?raw=true}{Github - gbfs.exe})
  \Annotation{gbfs.exe monfichier\_sample.gbfs samples/0infos samples/*.snd}
  Le fichier "monfichier\_sample.gbfs" sera créé. L'ordre de cette commande est important : le fichier 0infos DOIT être le premier. Cet utilitaire fonctionne sous Linux avec Wine.

  \paragraph{Le fichier 00nbkit} Lorsque vous avez terminé de créer vos fichiers GBFS pour chaque kit de sample, un fichier 00nbkit doit être créé. Une seule donnée à l'intérieur de ce fichier : le nombre de kits que vous allez intégrer dans la ROM. Si vous n'avez qu'un seul kit à intégrer :
  \Annotation{echo 1 \textgreater  00nbkit}
  Une fois ce fichier créé, il faut aussi le tranformer en GBFS.
  \Annotation{gbfs.exe 00nbkit.gbfs 00nbkit}

  \paragraph{Intégration dans la ROM} Maintenant que vos fichier GBFS et 00nbkit.gbfs sont créés, il suffit de les ajouter à la ROM. Et c'est aussi simple que cette commande :
  \Annotation{cat FAT\_default.gba 00nbkit.gbfs monfichier\_sample.gbfs \textgreater FAT\_v1.0.0\_withsample.gba}
  Oui. Un simple "cat". Attention cependant, le fichier 00nbkit.gbfs {\bf DOIT} être le premier. (\FAT se sert de la donnée écrite dans le fichier 00nbkit pour connaitre à l'avance le nombre de kit)\medskip

  Après toutes ces manipulations, votre ROM est prête : vos samples sont accessible sur les channels SNA et SNB avec des instruments de type SAMPLE. Enjoy !

  \section{Le site web dédié à \FAT}

  Il existe un site web dédié à \FAT : c'est peut-être sur ce site que vous avez pu télécharger cette documentation ! \href{http://www.furiousadvancetracker.com}{www.furiousadvancetracker.com}\medskip

  Ce site permet de gérer vos backups/tracks mais également l'édition de vos samples et leur intégration dans la ROM. Voici un petit tutorial vidéo en français : \href{https://www.youtube.com/watch?v=a9rPzz-6Mgg}{Youtube - FAT Howto - Ajouter des samples}

  \section{Tutoriaux / paramètrages d'instruments}

  Cette section va tenter de vous donner quelques premières valeurs de paramètres afin de créer des instruments "intéressants" et de vous lancer plus rapidement dans la composition de morceaux. Pour chaque exemple, je vous donnerai la marche à suivre la plus complète possible.

    \subsection{Kick "Boom"}

    Le kick "boom" se programme sur le canal 1 exclusivement.
    \ColoredAnnotation{Il s'agit pour le moment de la seule façon de faire un kick. Les versions suivantes de \FAT proposeront des effets permettant d'en programmer d'autres sur des canaux différents.}

    \begin{itemize}
    \item{Dans l'écran SONG, placez le curseur sur le canal 1 (PU1).}
    \item{Appuyez sur L+A afin de poser un nouveau numéro de séquence.}
    \item{Pressez SELECT, restez appuyer et sélectionnez l'écran BLOCKS.}
    \item{Une fois dans l'écran BLOCKS, appuyez de nouveau sur L+A afin de faire apparaitre un numéro de block disponible.}
    \item{Pressez SELECT, restez appuyer et séléctionnez l'écran NOTES.}
    \item{Dans l'écran NOTES, appuyez sur A, laissez enfoncé et séléctionnez la note "C 6" (ou "C 7", "C 8") avec le curseur.}
    \item{Editez les paramètres de l'instrument. Appuez sur SELECT, laissez enfoncé et sélectionnez l'écran INSTRUMENTS.}
    \item{L'instrument doit être de type PULSE. Si ca n'est pas le cas, changez le type en pressant L et en allant vers la gauche avec le curseur.}
    \item{Boostez le volume à fond : F.}
    \item{Le waveduty doit être positionné sur la valeur 2.}
    \item{Positionnez la valeur du sweep sur 41.}
    \item{Appuyez sur START !}
    \end{itemize}\medskip

    Alternatives:
    \begin{itemize}
    \item{en "timant" l'instrument, le kick sera plus sec: "Timed = 1". Modifiez ensuite la valeur du "SoundLength".}
    \item{essayez de changer le sweep avec la valeur 31 ou 51. Une valeur de 32 ou 52 donne encore des résultats différents.}
    \item{l'octave de la note est également important ! Essayez de descendre à l'octave 5 et le kick sera moins puissant. A l'inverse, l'octave 8 permet de le faire claquer plus fort.}
    \end{itemize}\medskip

    Screenshot instrument:
    \Image{images/kickboom}{1.0}{Instrument - Kickboom}

    \subsection{Le sample stéréo}

    Par défaut un sample est mono. Mais il est cependant possible de diriger la lecture d'un son vers la droite ou la gauche avec \FAT.
    Supposons que vous souhaitiez créer un sample stéréo.
    Il suffit pour cela d'ajouter 2 samples dans la ROM (un pour la partie droite et l'autre pour la gauche) puis de configurer 2 instruments avec le paramètre OUTPUT réglé de façon judicieuse
     (ou d'utiliser la commande OU, ce qui vous économise un instrument).
    Le channel SNA s'occupe de lire celui à gauche avec un OUtput 'Left'.
    Le SNB s'occupe de lire celui de droite avec un OUtput 'Right'. L'inverse est également possible. Peu importe.
    Le tour est joué ! Vous avez un sample stéréo.

\end{document}
